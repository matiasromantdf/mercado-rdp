import{a as n}from"./index.becf6c0c.js";import{_ as u,o as s,c as l,a as t,t as c,F as d,d as h,C as m}from"./index.7ba4806a.js";const _={data(){return{url:"https://mercado.elgranero.net/api/api.php",articulo:{},carrito:[],textoIcono:"",fotomodal:"",hayFotos:!1}},emits:{actualizarBadgeCarrito:"actualizarBadgeCarrito",update:"update"},computed:{estaEnCarrito(){var o=this.articulo.id;return this.carrito.find(a=>a.id==o)?(this.textoIcono="Ya esta en carrito","../src/assets/en-carrito.png"):(this.textoIcono="Agregar al carrito","../src/assets/al-carrito.png")}},methods:{verModal(o){this.fotomodal=o,$("#modalFoto").modal("show")},cerrarModal(){$("#modalFoto").modal("hide")},agregarAlCarrito(){var o=this.articulo;this.carrito.find(a=>a.id==o.id)?alert("ya esta en el carrito"):(this.articulo.cantidad=1,this.carrito.push(this.articulo),this.$toast.success("se agrego correctamente al carrito! ",{position:"top-left"}),localStorage.setItem("carrito",JSON.stringify(this.carrito)),this.$emit("actualizarBadgeCarrito"))}},created(){n.get(this.url+"?accion=articulo&id="+this.$route.params.id).then(o=>{this.articulo=o.data.datos[0],o.data.datos[0].fotos.length>0?this.hayFotos=!0:this.hayFotos=!1}),this.carrito=JSON.parse(localStorage.getItem("carrito")),this.carrito==null&&(this.carrito=[])}},g={class:"container"},p={class:"row pt-2"},f={class:"col-sm-8"},v=["src","onClick"],y={key:0},C=t("br",null,null,-1),b=t("br",null,null,-1),x={class:"col-sm-2"},k={id:"carrito"},F=["src"],M={class:"modal fade",id:"modalFoto",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},V={class:"modal-dialog",role:"document"},A={class:"modal-content"},B=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"})],-1),I={class:"modal-body"},w=["src"],S={class:"modal-footer"};function N(o,a,z,E,e,i){return s(),l(d,null,[t("div",g,[t("h4",null,c(e.articulo.detalle),1),t("div",p,[t("div",f,[(s(!0),l(d,null,h(e.articulo.fotos,r=>(s(),l("div",{key:r.id},[t("img",{src:r,onClick:L=>i.verModal(r)},null,8,v)]))),128))]),e.hayFotos?(s(),l("small",y,"click para ampliar foto")):m("",!0),C,b,t("div",x,[t("h3",null,"Precio: $"+c(e.articulo.precio),1),t("h5",null,c(e.articulo.descripcion_larga),1),t("div",k,[t("a",{onClick:a[0]||(a[0]=(...r)=>i.agregarAlCarrito&&i.agregarAlCarrito(...r))},[t("img",{src:i.estaEnCarrito},null,8,F)]),t("p",null,c(e.textoIcono),1)]),t("button",{class:"btn btn-primary",onClick:a[1]||(a[1]=r=>o.$router.go(-1))},"Volver")])])]),t("div",M,[t("div",V,[t("div",A,[B,t("div",I,[t("img",{src:e.fotomodal,style:{width:"80%"}},null,8,w)]),t("div",S,[t("button",{type:"button",class:"btn btn-secondary",onClick:a[2]||(a[2]=(...r)=>i.cerrarModal&&i.cerrarModal(...r))},"Cerrar")])])])])],64)}var D=u(_,[["render",N]]);export{D as default};
