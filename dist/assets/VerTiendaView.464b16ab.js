import{C as m,S as _,P as p,N as f,s as v}from"./carousel.b6bbe098.js";import{a as n}from"./index.becf6c0c.js";import{_ as S,r as c,o,c as r,b as l,a,t as d,F as u,d as C,w as $}from"./index.7ba4806a.js";const b={emits:{actualizarBadgeCarrito:"actualizarBadgeCarrito",update:"update"},name:"ArticulosPortada",data(){return{url:"https://mercado.elgranero.net/api/api.php",nombreTienda:"",isLoading:!0,settings:{dir:"ltr"},articulos:"",carrito:[],fotos:""}},components:{Carousel:m,Slide:_,Pagination:p,Navigation:f,Loading:v},methods:{estaEnCarrito(t){return this.carrito.find(s=>s.id==t)?"../src/assets/en-carrito.png":"../src/assets/al-carrito.png"},agregarAlCarrito(t){this.carrito.find(s=>s.id==t.id)?alert("ya esta en el carrito"):(t.cantidad=1,this.carrito.push(t),this.$toast.success("se agrego correctamente al carrito! ",{position:"top-left"}),localStorage.setItem("carrito",JSON.stringify(this.carrito)),this.$emit("actualizarBadgeCarrito"))},rnd(){return Math.floor(Math.random()*(3300-2500))+2800}},mounted(){this.$emit("update",3),this.carrito=JSON.parse(localStorage.getItem("carrito")),this.carrito==null&&(this.carrito=[]),this.$route.params.id!="ultima"?(this.isLoading=!0,n.get(this.url+"?accion=articulos&id="+this.$route.params.id).then(t=>{console.log(t.data),this.articulos=t.data.datos,this.isLoading=!1}).catch(t=>{console.log(t)})):localStorage.getItem("tiendaSeleccionada")?(this.isLoading=!0,n.get(this.url+"?accion=articulos&id="+localStorage.getItem("tiendaSeleccionada")).then(t=>{this.articulos=t.data.datos,this.isLoading=!1}).catch(t=>{console.log(t)})):(alert("No hay tienda seleccionada"),this.$router.push("/"),this.$emit("update",1)),this.nombreTienda=sessionStorage.getItem("nombreTienda")}},L={class:"container"},k={class:"row"},y={class:"col"},N={class:"lado-izq"},x={class:"fotos"},B=["src"],T={class:"lado-der"},V={class:"nombre"};function w(t,s,F,I,i,z){const h=c("loading"),g=c("router-link");return o(),r(u,null,[l(h,{active:i.isLoading,"can-cancel":!1,"is-full-page":!0,color:"black","background-color":"#D6FEFF"},null,8,["active"]),a("div",L,[a("div",k,[a("div",y,[a("h1",null,d(i.nombreTienda),1),(o(!0),r(u,null,C(i.articulos,e=>(o(),r("div",{class:"tarjeta",key:e.id},[l(g,{to:"/articulo/"+e.id},{default:$(()=>[a("div",N,[a("div",x,[a("div",null,[a("img",{class:"foto",src:e.fotos[0]==""?"../src/assets/sin-imagen.jpg":e.fotos[0]},null,8,B)])])]),a("div",T,[a("div",V,[a("h4",null,d(e.detalle),1)])])]),_:2},1032,["to"])]))),128))])])])],64)}var A=S(b,[["render",w]]);export{A as default};
